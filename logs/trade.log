2025-10-10 09:16:10,090 - ERROR - Error in polling/prediction loop: positional indexers are out-of-bounds
Traceback (most recent call last):
  File "C:\Users\Crosslynx33\OneDrive - Crosslynxus Technologies Services Pvt Ltd\Desktop\RTTS\.venv\Lib\site-packages\pandas\core\indexing.py", line 1715, in _get_list_axis
    return self.obj._take_with_is_copy(key, axis=axis)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Crosslynx33\OneDrive - Crosslynxus Technologies Services Pvt Ltd\Desktop\RTTS\.venv\Lib\site-packages\pandas\core\generic.py", line 4175, in _take_with_is_copy
    result = self.take(indices=indices, axis=axis)
  File "C:\Users\Crosslynx33\OneDrive - Crosslynxus Technologies Services Pvt Ltd\Desktop\RTTS\.venv\Lib\site-packages\pandas\core\generic.py", line 4155, in take
    new_data = self._mgr.take(
        indices,
        axis=self._get_block_manager_axis(axis),
        verify=True,
    )
  File "C:\Users\Crosslynx33\OneDrive - Crosslynxus Technologies Services Pvt Ltd\Desktop\RTTS\.venv\Lib\site-packages\pandas\core\internals\managers.py", line 910, in take
    indexer = maybe_convert_indices(indexer, n, verify=verify)
  File "C:\Users\Crosslynx33\OneDrive - Crosslynxus Technologies Services Pvt Ltd\Desktop\RTTS\.venv\Lib\site-packages\pandas\core\indexers\utils.py", line 282, in maybe_convert_indices
    raise IndexError("indices are out-of-bounds")
IndexError: indices are out-of-bounds

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Crosslynx33\OneDrive - Crosslynxus Technologies Services Pvt Ltd\Desktop\RTTS\main.py", line 59, in run_loop
    single_row_features = make_features_for_latest(latest_df, history=history_df, feature_cols=model_obj['feature_cols'])
  File "C:\Users\Crosslynx33\OneDrive - Crosslynxus Technologies Services Pvt Ltd\Desktop\RTTS\src\features.py", line 129, in make_features_for_latest
    last_row = full.iloc[[-1]].copy()
               ~~~~~~~~~^^^^^^
  File "C:\Users\Crosslynx33\OneDrive - Crosslynxus Technologies Services Pvt Ltd\Desktop\RTTS\.venv\Lib\site-packages\pandas\core\indexing.py", line 1192, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Crosslynx33\OneDrive - Crosslynxus Technologies Services Pvt Ltd\Desktop\RTTS\.venv\Lib\site-packages\pandas\core\indexing.py", line 1744, in _getitem_axis
    return self._get_list_axis(key, axis=axis)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\Crosslynx33\OneDrive - Crosslynxus Technologies Services Pvt Ltd\Desktop\RTTS\.venv\Lib\site-packages\pandas\core\indexing.py", line 1718, in _get_list_axis
    raise IndexError("positional indexers are out-of-bounds") from err
IndexError: positional indexers are out-of-bounds
2025-10-10 09:17:10,438 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.1719, shares_to_sell=0
2025-10-10 09:18:10,719 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0783, shares_to_sell=0
2025-10-10 09:19:10,968 - INFO - Decision=HOLD (weak signal 0.0395)
2025-10-10 09:20:11,228 - INFO - Decision=HOLD (weak signal 0.0384)
2025-10-10 09:21:14,123 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0595, shares_to_sell=0
2025-10-10 09:22:14,416 - INFO - Decision=HOLD (weak signal 0.0178)
2025-10-10 09:23:14,688 - INFO - Decision=HOLD (weak signal 0.0178)
2025-10-10 09:24:15,008 - INFO - Decision=HOLD (weak signal 0.0466)
2025-10-10 09:25:15,297 - INFO - Decision=HOLD (weak signal 0.0395)
2025-10-10 09:26:15,631 - INFO - Decision=HOLD (weak signal 0.0466)
2025-10-10 09:27:15,923 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0610, shares_to_sell=0
2025-10-10 09:28:16,191 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0783, shares_to_sell=0
2025-10-10 09:29:16,468 - INFO - Decision=HOLD (weak signal 0.0466)
2025-10-10 09:30:16,884 - INFO - Decision=HOLD (weak signal 0.0178)
2025-10-10 09:31:17,317 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.1537, shares_to_sell=0
2025-10-10 09:32:17,573 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0610, shares_to_sell=0
2025-10-10 09:33:18,099 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0763, shares_to_sell=0
2025-10-10 09:34:19,165 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0623, shares_to_sell=0
2025-10-10 09:35:19,518 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0695, shares_to_sell=0
2025-10-10 09:36:19,794 - INFO - Decision=BUY shares=39 price=22.6200 notional=882.18 tx_cost=0.4411 new_money=9117.38 new_shares=39
2025-10-10 09:37:20,168 - INFO - Decision=HOLD (weak signal 0.0158)
2025-10-10 09:38:20,434 - INFO - Decision=HOLD (weak signal 0.0006)
2025-10-10 09:39:20,728 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0609, shares_to_sell=2
2025-10-10 09:40:20,996 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0687, shares_to_sell=2
2025-10-10 09:41:21,274 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0687, shares_to_sell=2
2025-10-10 09:42:21,555 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0610, shares_to_sell=2
2025-10-10 09:43:21,805 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0763, shares_to_sell=2
2025-10-10 09:44:22,082 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0763, shares_to_sell=2
2025-10-10 09:45:22,399 - INFO - Decision=SELL shares=5 price=22.7200 notional=113.60 tx_cost=0.0568 new_money=9230.92 new_shares=34
2025-10-10 09:46:22,773 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0858, shares_to_sell=2
2025-10-10 09:47:23,097 - INFO - Decision=SELL shares=5 price=22.7900 notional=113.95 tx_cost=0.0570 new_money=9344.82 new_shares=29
2025-10-10 09:48:23,408 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.1389, shares_to_sell=4
2025-10-10 09:49:23,701 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0859, shares_to_sell=2
2025-10-10 09:50:23,992 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.1389, shares_to_sell=4
2025-10-10 09:51:24,238 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0778, shares_to_sell=2
2025-10-10 09:52:24,553 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.1539, shares_to_sell=4
2025-10-10 09:53:24,924 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.1655, shares_to_sell=4
2025-10-10 09:54:25,263 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0610, shares_to_sell=1
2025-10-10 09:55:25,576 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0783, shares_to_sell=2
2025-10-10 09:56:25,910 - INFO - Decision=HOLD (weak signal 0.0395)
2025-10-10 09:57:26,222 - INFO - Decision=HOLD (weak signal 0.0198)
2025-10-10 09:58:26,494 - INFO - Decision=HOLD (weak signal 0.0384)
2025-10-10 09:59:26,851 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0575, shares_to_sell=1
2025-10-10 10:00:27,100 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0575, shares_to_sell=1
2025-10-10 10:01:27,618 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0595, shares_to_sell=1
2025-10-10 10:02:28,345 - INFO - Decision=HOLD (weak signal 0.0198)
2025-10-10 10:03:29,358 - INFO - Decision=HOLD (weak signal 0.0188)
2025-10-10 10:04:29,637 - INFO - Decision=HOLD (weak signal 0.0466)
2025-10-10 10:05:29,928 - INFO - Decision=HOLD (weak signal 0.0198)
2025-10-10 10:06:30,270 - INFO - Decision=HOLD (weak signal 0.0158)
2025-10-10 10:07:31,183 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0595, shares_to_sell=1
2025-10-10 10:08:31,456 - INFO - Decision=HOLD (weak signal 0.0158)
2025-10-10 10:09:31,739 - INFO - Decision=HOLD (weak signal 0.0170)
2025-10-10 10:10:32,102 - INFO - Decision=HOLD (weak signal 0.0384)
2025-10-10 10:11:32,383 - INFO - Decision=HOLD (weak signal 0.0395)
2025-10-10 10:12:32,674 - INFO - Decision=HOLD (weak signal 0.0395)
2025-10-10 10:13:32,909 - INFO - Decision=HOLD (weak signal 0.0395)
2025-10-10 10:14:33,228 - INFO - Decision=HOLD (weak signal 0.0170)
2025-10-10 10:15:33,514 - INFO - Decision=HOLD (weak signal 0.0178)
2025-10-10 10:16:33,781 - INFO - Decision=HOLD (weak signal 0.0203)
2025-10-10 10:17:34,318 - INFO - Decision=HOLD (weak signal 0.0395)
2025-10-10 10:18:34,631 - INFO - Decision=HOLD (weak signal 0.0198)
2025-10-10 10:19:34,962 - INFO - Decision=HOLD (weak signal 0.0170)
2025-10-10 10:20:35,230 - INFO - Decision=HOLD (weak signal 0.0198)
2025-10-10 10:21:35,530 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0783, shares_to_sell=2
2025-10-10 10:22:35,910 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0783, shares_to_sell=2
2025-10-10 10:23:36,191 - INFO - Decision=HOLD (weak signal 0.0198)
2025-10-10 10:24:36,481 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0610, shares_to_sell=1
2025-10-10 10:25:36,840 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0691, shares_to_sell=2
2025-10-10 10:26:37,163 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0691, shares_to_sell=2
2025-10-10 10:27:38,147 - INFO - Decision=HOLD (weak signal 0.0384)
2025-10-10 10:28:38,423 - INFO - Decision=HOLD (weak signal 0.0384)
2025-10-10 10:29:38,896 - INFO - Decision=BUY shares=7 price=24.0800 notional=168.56 tx_cost=0.0843 new_money=9176.17 new_shares=36
2025-10-10 10:30:39,312 - INFO - Decision=HOLD (weak signal 0.0466)
2025-10-10 10:31:39,662 - INFO - Decision=HOLD (weak signal 0.0199)
2025-10-10 10:32:40,040 - INFO - Decision=HOLD (weak signal 0.0395)
2025-10-10 10:33:40,325 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0691, shares_to_sell=2
2025-10-10 10:34:40,610 - INFO - Decision=HOLD (buy signal but trade too small or already at/above desired size). signal=0.0510, desired_shares=10, current=36
2025-10-10 10:35:40,940 - INFO - Decision=HOLD (buy signal but trade too small or already at/above desired size). signal=0.0510, desired_shares=10, current=36
2025-10-10 10:36:41,918 - INFO - Decision=HOLD (buy signal but trade too small or already at/above desired size). signal=0.0601, desired_shares=12, current=36
2025-10-10 10:37:42,161 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0610, shares_to_sell=2
2025-10-10 10:38:42,438 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0714, shares_to_sell=2
2025-10-10 10:39:42,787 - INFO - Decision=SELL shares=5 price=23.9800 notional=119.90 tx_cost=0.0599 new_money=9296.01 new_shares=31
2025-10-10 10:40:43,088 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0729, shares_to_sell=2
2025-10-10 10:41:43,464 - INFO - Decision=HOLD (buy signal but trade too small or already at/above desired size). signal=0.0601, desired_shares=12, current=31
2025-10-10 10:42:43,704 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0595, shares_to_sell=1
2025-10-10 10:43:44,025 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0778, shares_to_sell=2
2025-10-10 10:44:44,992 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.1424, shares_to_sell=4
2025-10-10 10:45:45,445 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0773, shares_to_sell=2
2025-10-10 10:46:45,785 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.1389, shares_to_sell=4
2025-10-10 10:47:46,049 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0815, shares_to_sell=2
2025-10-10 10:48:46,471 - INFO - Decision=HOLD (weak signal 0.0395)
2025-10-10 10:49:46,804 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0859, shares_to_sell=2
2025-10-10 10:50:47,118 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0778, shares_to_sell=2
2025-10-10 10:51:47,513 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0595, shares_to_sell=1
2025-10-10 10:52:47,784 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0687, shares_to_sell=2
2025-10-10 10:53:48,319 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0590, shares_to_sell=1
2025-10-10 10:54:48,678 - INFO - Decision=HOLD (sell signal but nothing to sell or too small). signal=-0.0610, shares_to_sell=1
